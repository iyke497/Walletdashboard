{% extends "layouts/vertical.html" %}

{% block extra_css %}
<link rel="stylesheet" href="../../assets/vendor/css/pages/page-auth.css" />
{% endblock %}

{% block content %}
<div class="container-xxl">
  <div class="authentication-wrapper authentication-basic container-p-y">
    <div class="authentication-inner py-6">
      <!-- Reset Password -->
      <div class="card">
        <div class="card-body">
          <!-- Logo -->
          <div class="app-brand justify-content-center mb-6">
            <a href="" class="app-brand-link">
              <span class="app-brand-logo demo">
                <span class="text-primary">
                  <svg width="32" height="22" viewBox="0 0 32 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M0.00172773 0V6.85398C0.00172773 6.85398 -0.133178 9.01207 1.98092 10.8388L13.6912 21.9964L19.7809 21.9181L18.8042 9.88248L16.4951 7.17289L9.23799 0H0.00172773Z"
                      fill="currentColor" />
                    <path
                      opacity="0.06"
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M7.69824 16.4364L12.5199 3.23696L16.5541 7.25596L7.69824 16.4364Z"
                      fill="#161616" />
                    <path
                      opacity="0.06"
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M8.07751 15.9175L13.9419 4.63989L16.5849 7.28475L8.07751 15.9175Z"
                      fill="#161616" />
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M7.77295 16.3566L23.6563 0H32V6.88383C32 6.88383 31.8262 9.17836 30.6591 10.4057L19.7824 22H13.6938L7.77295 16.3566Z"
                      fill="currentColor" />
                  </svg>
                </span>
              </span>
              <span class="app-brand-text demo text-heading fw-bold">Vuexy</span>
            </a>
          </div>
          <!-- /Logo -->
          <h4 class="mb-1">Reset Password ðŸ”’</h4>
          <p class="mb-6">
            <span class="fw-medium">Your new password must be different from previously used passwords</span>
          </p>
          
          <form method="POST">
            {{ form.hidden_tag() }}
            
            <div class="mb-6 form-password-toggle form-control-validation">
              {{ form.password.label(class="form-label") }}
              <div class="input-group input-group-merge">
                {{ form.password(class="form-control" + (" is-invalid" if form.password.errors else ""), 
                                 id="password",
                                 placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;") }}
                <span class="input-group-text cursor-pointer" id="password-toggle">
                  <i class="icon-base ti tabler-eye-off"></i>
                </span>
              </div>
              {% if form.password.errors %}
                <div class="invalid-feedback d-block">
                  {% for error in form.password.errors %}
                    {{ error }}
                  {% endfor %}
                </div>
              {% endif %}
            </div>
            
            <div class="mb-6 form-password-toggle form-control-validation">
              {{ form.confirm.label(class="form-label") }}
              <div class="input-group input-group-merge">
                {{ form.confirm(class="form-control" + (" is-invalid" if form.confirm.errors else ""), 
                                id="confirm-password",
                                placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;") }}
                <span class="input-group-text cursor-pointer" id="confirm-password-toggle">
                  <i class="icon-base ti tabler-eye-off"></i>
                </span>
              </div>
              {% if form.confirm.errors %}
                <div class="invalid-feedback d-block">
                  {% for error in form.confirm.errors %}
                    {{ error }}
                  {% endfor %}
                </div>
              {% endif %}
            </div>
            
            <button class="btn btn-primary d-grid w-100 waves-effect waves-light" type="submit">
                {{ form.submit.label.text }}
            </button>
            
            <div class="text-center">
              <a href="{{ url_for('auth.login') }}" class="d-flex justify-content-center">
                <i class="icon-base ti tabler-chevron-left scaleX-n1-rtl me-1_5"></i>
                Back to login
              </a>
            </div>
          </form>
        </div>
      </div>
      <!-- /Reset Password -->
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="../../assets/js/pages-auth.js"></script>
{% endblock %}